function  digPlusDrop2()
 local i,c,count
 i,c=2,0
 while true do
  fn.lprint('drop remain #',i,' try ',c)
  turtle.select(i)
  count=turtle.getItemCount(i)
  if i==2 then count=count-1 end
  if count>0 then
   turtle.drop(count)
   c=0
  else
   if i>=16 then 
    i=1 
    c=c+1
    sleep(1)
   end      
   if c>10 then 
    fn.lprint('digPlusDrop done')
    return 
   end
  end
  i=i+1
  if i>16 then i=2 end
 end
end

digWay = true
function fn.digWay()
 if not digWay then return end

 fn.digUp()
 if not turtle.detectDown() then
  for i=2,16 do 
   turtle.select(i)
   if turtle.placeDown() then break end
  end
 end
end

fn.digWay()